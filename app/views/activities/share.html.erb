<div class="share-page">
  <header class="share-header">
    <img src="/HEADER.svg" alt="Voxxy" class="voxxy-logo" />
  </header>

  <section class="activity-card">
    <div class="activity-main">
      <h1 class="activity-title"><%= @activity.activity_name %></h1>
      <div class="activity-meta">
        <% if @activity.emoji.present? %> <span class="emoji"><%= @activity.emoji %></span> <% end %>
        <span class="badge">Type: <%= @activity.activity_type %></span>
        <span class="badge">Host: <%= @activity.user.name %></span>
        <span class="badge"><%= pluralize(@activity.participants.size, 'Participant') %></span>
      </div>
    </div>

    <div class="activity-details">
      <div class="detail">
        <h4>Date Notes</h4>
        <p><%= @activity.date_notes %></p>
      </div>
      <div class="detail">
        <h4>When</h4>
        <p><%= @activity.date_day.presence || 'TBD' %></p>
      </div>
      <div class="detail">
        <h4>Where</h4>
        <p><%= @activity.activity_location.presence || 'TBD' %></p>
      </div>

      <% if @activity.time_slots.any? %>
        <div class="detail time-slots">
          <h4>Time Slots</h4>
          <ul>
            <% @activity.time_slots.each do |ts| %>
              <li><time datetime="<%= ts.date %>"><%= ts.date.strftime("%b %-d") %></time> at <time><%= ts.time.strftime("%-l:%M %P") %></time> - <%= ts.votes_count %> votes</li>
            <% end %>
          </ul>
        </div>
      <% end %>

    </div>

    <% if @activity.pinned_activities.any? %>
      <div>
        <h4 class="pinned-title">Pinned Activities:</h4>
        <ul class="pinned-activities">
          <% @activity.pinned_activities.each do |pin| %>
            <li class="pinned-list-item"><strong><%= pin.title %></strong> <% if pin.reason.present? %>â€“ <em><%= pin.reason %></em><% end %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="participants-section">
      <h3>Who's Joining (<%= @activity.participants.size %>)</h3>
      <ul class="participants-list">
        <% @activity.participants.each do |p| %>
          <li><span class="name"><%= p.name %></span></li>
        <% end %>
      </ul>
    </div>
  </section>
</div>
