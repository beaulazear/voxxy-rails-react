# Sidekiq-Cron Schedule Configuration
# This file defines recurring jobs for the email automation system

# Email Sender Worker - Checks for scheduled emails ready to send
# Runs every 5 minutes
email_sender_worker:
  cron: "*/5 * * * *"  # Every 5 minutes
  class: "EmailSenderWorker"
  queue: email_delivery
  description: "Checks for scheduled emails ready to send and sends them"
  active_job: false

# Email Retry Scanner - Checks for emails pending retry
# Runs every 30 minutes
email_retry_scanner:
  cron: "*/30 * * * *"  # Every 30 minutes
  class: "EmailRetryScannerJob"
  queue: email_delivery
  description: "Scans for soft-bounced emails that need to be retried"
  active_job: false

# Payment Sync Worker - Syncs payment transactions from Eventbrite and other providers
# Runs every 15 minutes
payment_sync_worker:
  cron: "*/15 * * * *"  # Every 15 minutes
  class: "PaymentSyncWorker"
  queue: payment_sync
  description: "Syncs payment transactions from external providers (Eventbrite, etc.)"
  active_job: false

# Daily Backup Worker - Automated daily backups of all events
# Runs every day at 2:00 AM EST
# Note: Ensure server timezone is set to Eastern Time (US & Canada)
daily_backup_worker:
  cron: "0 2 * * *"  # Every day at 2:00 AM (server time)
  class: "DailyBackupWorker"
  queue: default
  description: "Automated daily backup of all events for disaster recovery"
  active_job: false
